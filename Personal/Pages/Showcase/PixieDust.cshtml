@page
@model Personal.Pages.Showcase.PixieDustModel
@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pixie Dust — Style Lab</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
    <style>
        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { width: 100%; height: 100%; overflow: hidden; font-family: 'Inter', sans-serif; background: #000; }

        #vortex-canvas {
            position: fixed;
            inset: 0;
            width: 100%;
            height: 100%;
            display: block;
        }

        .overlay {
            position: fixed;
            inset: 0;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
            pointer-events: none;
        }

        .pd-badge {
            pointer-events: auto;
            margin-bottom: 1.5rem;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 7px 20px;
            background: rgba(255,255,255,0.06);
            backdrop-filter: blur(14px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 50px;
            animation: pdFadeDown 0.6s ease-out forwards;
            opacity: 0;
        }
        .pd-badge-dot {
            width: 6px; height: 6px;
            border-radius: 50%;
            background: #818cf8;
            box-shadow: 0 0 8px rgba(129,140,248,0.6);
            animation: pdPulse 2s ease-in-out infinite;
        }
        .pd-badge-text {
            font-size: 0.7rem;
            letter-spacing: 0.14em;
            text-transform: uppercase;
            color: rgba(255,255,255,0.6);
            font-weight: 500;
        }

        .pd-title {
            font-size: clamp(2.8rem, 7vw, 5.5rem);
            font-weight: 800;
            letter-spacing: -0.03em;
            color: #fff;
            line-height: 1.08;
            max-width: 900px;
            margin-bottom: 1.25rem;
            animation: pdBlurIn 1s ease-out 0.15s forwards;
            opacity: 0;
        }
        .pd-title-accent {
            background: linear-gradient(135deg, #818cf8, #c084fc, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .pd-sub {
            font-size: clamp(1rem, 2vw, 1.2rem);
            color: rgba(255,255,255,0.5);
            max-width: 580px;
            line-height: 1.7;
            font-weight: 300;
            margin-bottom: 2.5rem;
            animation: pdFadeUp 0.7s ease-out 0.45s forwards;
            opacity: 0;
        }

        .pd-buttons {
            pointer-events: auto;
            display: flex;
            flex-wrap: wrap;
            gap: 14px;
            justify-content: center;
            animation: pdFadeUp 0.6s ease-out 0.65s forwards;
            opacity: 0;
        }
        .pd-btn-primary {
            padding: 14px 36px;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: #fff;
            border: none;
            border-radius: 14px;
            font-size: 0.95rem;
            font-weight: 600;
            font-family: inherit;
            cursor: pointer;
            box-shadow: 0 4px 24px rgba(99,102,241,0.3), inset 0 1px 0 rgba(255,255,255,0.15);
            transition: all 0.3s;
            text-decoration: none;
        }
        .pd-btn-primary:hover {
            box-shadow: 0 8px 40px rgba(99,102,241,0.45), inset 0 1px 0 rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }
        .pd-btn-outline {
            padding: 14px 36px;
            background: transparent;
            color: rgba(255,255,255,0.7);
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 14px;
            font-size: 0.95rem;
            font-weight: 500;
            font-family: inherit;
            cursor: pointer;
            backdrop-filter: blur(12px);
            transition: all 0.3s;
            text-decoration: none;
        }
        .pd-btn-outline:hover {
            background: rgba(255,255,255,0.06);
            border-color: rgba(255,255,255,0.3);
            color: #fff;
        }

        .pd-stats {
            pointer-events: auto;
            margin-top: 3.5rem;
            display: flex;
            gap: 3rem;
            animation: pdFadeUp 0.5s ease-out 0.85s forwards;
            opacity: 0;
        }
        .pd-stat {
            text-align: center;
        }
        .pd-stat-value {
            display: block;
            font-size: 1.5rem;
            font-weight: 700;
            color: #fff;
            letter-spacing: -0.02em;
        }
        .pd-stat-label {
            font-size: 0.68rem;
            color: rgba(255,255,255,0.35);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-top: 4px;
        }

        /* Back button */
        .pd-back {
            position: fixed; top: 1.25rem; left: 1.25rem; z-index: 20;
            display: inline-flex; align-items: center; gap: 0.5rem;
            padding: 0.55rem 1.1rem; border-radius: 99px;
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.6); font-size: 0.85rem; font-weight: 600;
            text-decoration: none; backdrop-filter: blur(12px); transition: all 0.25s ease;
        }
        .pd-back:hover { background: rgba(99,102,241,0.12); border-color: rgba(99,102,241,0.35); color: #818cf8; }
        .pd-back svg { width: 16px; height: 16px; }

        @@keyframes pdBlurIn {
            from { opacity: 0; filter: blur(16px); transform: translateY(24px) scale(1.04); }
            to { opacity: 1; filter: blur(0); transform: translateY(0) scale(1); }
        }
        @@keyframes pdFadeUp {
            from { opacity: 0; transform: translateY(14px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @@keyframes pdFadeDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @@keyframes pdPulse {
            0%, 100% { opacity: 1; box-shadow: 0 0 8px rgba(129,140,248,0.6); }
            50% { opacity: 0.5; box-shadow: 0 0 16px rgba(129,140,248,0.3); }
        }

        @@media (max-width: 640px) {
            .pd-buttons { flex-direction: column; align-items: center; }
            .pd-stats { gap: 1.5rem; }
        }
    </style>
</head>
<body>
    <a class="pd-back" href="/Showcase/LandingPages">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5"/></svg>
        Back
    </a>

    <canvas id="vortex-canvas"></canvas>

    <div class="overlay">
        <div class="pd-badge">
            <span class="pd-badge-dot"></span>
            <span class="pd-badge-text">Now in Beta</span>
        </div>

        <h1 class="pd-title">
            Build something<br/><span class="pd-title-accent">extraordinary.</span>
        </h1>

        <p class="pd-sub">
            Ship faster with an engine built for scale. Effortless performance,
            beautiful defaults, and the developer experience you deserve.
        </p>

        <div class="pd-buttons">
            <a href="#" class="pd-btn-primary" onclick="return false;">Get Early Access</a>
            <a href="#" class="pd-btn-outline" onclick="return false;">See it in action</a>
        </div>

        <div class="pd-stats">
            <div class="pd-stat">
                <span class="pd-stat-value">4.2k</span>
                <span class="pd-stat-label">Stars</span>
            </div>
            <div class="pd-stat">
                <span class="pd-stat-value">99.9%</span>
                <span class="pd-stat-label">Uptime</span>
            </div>
            <div class="pd-stat">
                <span class="pd-stat-value">&lt;12ms</span>
                <span class="pd-stat-label">Latency</span>
            </div>
        </div>
    </div>

    <script>
    (function () {
        // ========================================
        // Simplex Noise (inline — no CDN needed)
        // ========================================
        const F3 = 1.0 / 3.0, G3 = 1.0 / 6.0;
        const grad3 = [
            [1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],
            [1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],
            [0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]
        ];
        const perm = new Uint8Array(512);
        const p = new Uint8Array(256);
        for (let i = 0; i < 256; i++) p[i] = i;
        for (let i = 255; i > 0; i--) {
            const j = (Math.random() * (i + 1)) | 0;
            const tmp = p[i]; p[i] = p[j]; p[j] = tmp;
        }
        for (let i = 0; i < 512; i++) perm[i] = p[i & 255];

        function noise3D(xin, yin, zin) {
            let n0, n1, n2, n3;
            const s = (xin + yin + zin) * F3;
            const i = Math.floor(xin + s), j = Math.floor(yin + s), k = Math.floor(zin + s);
            const t = (i + j + k) * G3;
            const X0 = i - t, Y0 = j - t, Z0 = k - t;
            const x0 = xin - X0, y0 = yin - Y0, z0 = zin - Z0;
            let i1, j1, k1, i2, j2, k2;
            if (x0 >= y0) {
                if (y0 >= z0) { i1=1;j1=0;k1=0;i2=1;j2=1;k2=0; }
                else if (x0 >= z0) { i1=1;j1=0;k1=0;i2=1;j2=0;k2=1; }
                else { i1=0;j1=0;k1=1;i2=1;j2=0;k2=1; }
            } else {
                if (y0 < z0) { i1=0;j1=0;k1=1;i2=0;j2=1;k2=1; }
                else if (x0 < z0) { i1=0;j1=1;k1=0;i2=0;j2=1;k2=1; }
                else { i1=0;j1=1;k1=0;i2=1;j2=1;k2=0; }
            }
            const x1=x0-i1+G3, y1=y0-j1+G3, z1=z0-k1+G3;
            const x2=x0-i2+2*G3, y2=y0-j2+2*G3, z2=z0-k2+2*G3;
            const x3=x0-1+3*G3, y3=y0-1+3*G3, z3=z0-1+3*G3;
            const ii=i&255, jj=j&255, kk=k&255;
            function dot3(g, x, y, z) { return g[0]*x + g[1]*y + g[2]*z; }
            let t0 = 0.6 - x0*x0 - y0*y0 - z0*z0;
            n0 = t0 < 0 ? 0 : (t0 *= t0, t0 * t0 * dot3(grad3[perm[ii+perm[jj+perm[kk]]] % 12], x0, y0, z0));
            let t1 = 0.6 - x1*x1 - y1*y1 - z1*z1;
            n1 = t1 < 0 ? 0 : (t1 *= t1, t1 * t1 * dot3(grad3[perm[ii+i1+perm[jj+j1+perm[kk+k1]]] % 12], x1, y1, z1));
            let t2 = 0.6 - x2*x2 - y2*y2 - z2*z2;
            n2 = t2 < 0 ? 0 : (t2 *= t2, t2 * t2 * dot3(grad3[perm[ii+i2+perm[jj+j2+perm[kk+k2]]] % 12], x2, y2, z2));
            let t3 = 0.6 - x3*x3 - y3*y3 - z3*z3;
            n3 = t3 < 0 ? 0 : (t3 *= t3, t3 * t3 * dot3(grad3[perm[ii+1+perm[jj+1+perm[kk+1]]] % 12], x3, y3, z3));
            return 32 * (n0 + n1 + n2 + n3);
        }

        // ========================================
        // Vortex Particle System
        // ========================================
        const canvas = document.getElementById('vortex-canvas');
        const ctx = canvas.getContext('2d');
        if (!ctx) return;

        const PARTICLE_COUNT = 700;
        const PROP_COUNT = 9; // x, y, vx, vy, life, ttl, speed, radius, hue
        const props = new Float32Array(PARTICLE_COUNT * PROP_COUNT);

        const BASE_TTL = 50, RANGE_TTL = 150;
        const BASE_SPEED = 0.0, RANGE_SPEED = 1.5;
        const BASE_RADIUS = 1, RANGE_RADIUS = 2;
        const BASE_HUE = 220, RANGE_HUE = 100;
        const NOISE_STEPS = 3;
        const X_OFF = 0.00125, Y_OFF = 0.00125, Z_OFF = 0.0005;
        const TAU = 2 * Math.PI;
        let tick = 0;
        let centerX = 0, centerY = 0;
        const RANGE_Y = 800;

        function rand(n) { return n * Math.random(); }
        function randRange(n) { return n - rand(2 * n); }
        function fadeInOut(t, m) {
            const hm = 0.5 * m;
            return Math.abs(((t + hm) % m) - hm) / hm;
        }
        function lerp(a, b, t) { return (1 - t) * a + t * b; }

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            centerX = 0.5 * canvas.width;
            centerY = 0.5 * canvas.height;
        }

        function initParticle(i) {
            props[i]     = rand(canvas.width);           // x
            props[i + 1] = centerY + randRange(RANGE_Y); // y
            props[i + 2] = 0;                             // vx
            props[i + 3] = 0;                             // vy
            props[i + 4] = 0;                             // life
            props[i + 5] = BASE_TTL + rand(RANGE_TTL);    // ttl
            props[i + 6] = BASE_SPEED + rand(RANGE_SPEED);// speed
            props[i + 7] = BASE_RADIUS + rand(RANGE_RADIUS); // radius
            props[i + 8] = BASE_HUE + rand(RANGE_HUE);   // hue
        }

        function initAll() {
            tick = 0;
            for (let i = 0; i < PARTICLE_COUNT * PROP_COUNT; i += PROP_COUNT) {
                initParticle(i);
            }
        }

        function updateParticle(i) {
            let x = props[i], y = props[i+1];
            const n = noise3D(x * X_OFF, y * Y_OFF, tick * Z_OFF) * NOISE_STEPS * TAU;
            const vx = lerp(props[i+2], Math.cos(n), 0.5);
            const vy = lerp(props[i+3], Math.sin(n), 0.5);
            const life = props[i+4];
            const ttl = props[i+5];
            const speed = props[i+6];
            const x2 = x + vx * speed;
            const y2 = y + vy * speed;
            const radius = props[i+7];
            const hue = props[i+8];

            // Draw the particle line
            ctx.save();
            ctx.lineCap = 'round';
            ctx.lineWidth = radius;
            ctx.strokeStyle = 'hsla(' + hue + ',100%,60%,' + fadeInOut(life, ttl) + ')';
            ctx.beginPath();
            ctx.moveTo(x, y);
            ctx.lineTo(x2, y2);
            ctx.stroke();
            ctx.restore();

            // Advance state
            props[i]   = x2;
            props[i+1] = y2;
            props[i+2] = vx;
            props[i+3] = vy;
            props[i+4] = life + 1;

            // Reset if out of bounds or expired
            if (x2 > canvas.width || x2 < 0 || y2 > canvas.height || y2 < 0 || life + 1 > ttl) {
                initParticle(i);
            }
        }

        function renderGlow() {
            ctx.save();
            ctx.filter = 'blur(8px) brightness(200%)';
            ctx.globalCompositeOperation = 'lighter';
            ctx.drawImage(canvas, 0, 0);
            ctx.restore();

            ctx.save();
            ctx.filter = 'blur(4px) brightness(200%)';
            ctx.globalCompositeOperation = 'lighter';
            ctx.drawImage(canvas, 0, 0);
            ctx.restore();
        }

        function renderToScreen() {
            ctx.save();
            ctx.globalCompositeOperation = 'lighter';
            ctx.drawImage(canvas, 0, 0);
            ctx.restore();
        }

        function draw() {
            tick++;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            for (let i = 0; i < PARTICLE_COUNT * PROP_COUNT; i += PROP_COUNT) {
                updateParticle(i);
            }

            renderGlow();
            renderToScreen();
            requestAnimationFrame(draw);
        }

        resize();
        initAll();
        draw();
        window.addEventListener('resize', resize);
    })();
    </script>
</body>
</html>
